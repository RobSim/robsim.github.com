var JotForm={url:"//www.jotform.com/",server:"//www.jotform.com/server.php",conditions:{},condValues:{},forms:[],saveForm:!1,imageFiles:["png","jpg","jpeg","ico","tiff","bmp","gif","apng","jp2","jfif"],autoCompletes:{},defaultValues:{},debug:!1,highlightInputs:!0,noJump:!1,initializing:!0,lastFocus:!1,saving:!1,texts:{confirmEmail:"E-mail does not match",pleaseWait:"Please wait...",confirmClearForm:"Are you sure you want to clear the form",lessThan:"Your score should be less than or equal to",incompleteFields:"There are incomplete required fields. Please complete them.",required:"This field is required.",requireOne:"At least one field required.",requireEveryRow:"Every row is required.",email:"Enter a valid e-mail address",alphabetic:"This field can only contain letters",numeric:"This field can only contain numeric values",alphanumeric:"This field can only contain letters and numbers.",uploadExtensions:"You can only upload following files:",uploadFilesize:"File size cannot be bigger than:",gradingScoreError:"Score total should only be less than or equal to",inputCarretErrorA:"Input should not less than the minimum value:",inputCarretErrorB:"Input should not greater than the maximum value:",maxDigitsError:"The maximum digits allowed is"},getServerURL:function(){var e=$$(".jotform-form")[0],t;if(e&&(t=e.readAttribute("action")))if(t.include("submit.php")||t.include("server.php")){var o=t.include("server.php")?"server":"submit";this.server=t.replace(o+".php","server.php"),this.url=t.replace(o+".php","")}else{var r=t.replace(/\/submit\/.*?$/,"/");this.server=r+"server.php",this.url=r}},alterTexts:function(e){Object.extend(this.texts,e||{})},ie:function(){for(var e,t=3,o=document.createElement("div"),r=o.getElementsByTagName("i");o.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",r[0];);return t>4?t:e},createConsole:function(){var e=["log","info","warn","error"];$A(e).each(function(e){this[e]=function(){if(JotForm.debug&&"console"in window)try{console[e].apply(this,arguments)}catch(t){"string"==typeof arguments[0]?console.log(e.toUpperCase()+": "+$A(arguments).join(", ")):Prototype.Browser.IE?alert(e+": "+arguments[0]):console[e](arguments[0])}}}.bind(this)),JotForm.debug&&(JotForm.debugOptions=document.readJsonCookie("debug_options"))},init:function(e){var t=function(){try{this.populateGet(),"1"==document.get.debug&&(this.debug=!0),this.createConsole(),this.getServerURL(),e&&e(),"edit"!=document.get.mode&&"inlineEdit"!=document.get.mode&&"submissionToPDF"!=document.get.mode||!document.get.sid||this.editMode(),this.noJump="nojump"in document.get,this.uniqueID=this.uniqid(),this.checkMultipleUploads(),this.handleSavedForm(),this.setTitle(),this.getDefaults(),this.handlePayPalProMethods(),this.handleFormCollapse(),this.handlePages(),window.parent&&window.parent!=window&&this.handleIFrameHeight(),this.highLightLines(),this.setButtonActions(),this.initGradingInputs(),this.initSpinnerInputs(),this.initNumberInputs(),this.setConditionEvents(),this.prePopulations(),this.handleAutoCompletes(),this.handleTextareaLimits(),this.handleDateTimeChecks(),this.handleOtherOptions(),this.setFocusEvents(),this.disableAcceptonChrome(),this.handleScreenshot(),$A(document.forms).each(function(e){(e.name=="form_"+e.id||e.name=="q_form_"+e.id)&&this.forms.push(e)}.bind(this)),this.validator(),this.fixIESubmitURL(),this.disableHTML5FormValidation()}catch(t){JotForm.error(t)}this.initializing=!1}.bind(this);"complete"==document.readyState||this.jsForm&&void 0===document.readyState?t():document.ready(t)},handleIFrameHeight:function(){var e;if($$(".form-collapse-table").length>0)e=$$("body")[0].getHeight();else if($$(".form-section").length>1){var t=0,o=$$("body")[0],r=$$(".form-section");r.each(function(e){e.setStyle({display:"none"})}),r.each(function(e){e.setStyle({display:"block"}),t<o.getHeight()&&(t=o.getHeight()),e.setStyle({display:"none"})}),r[0].setStyle({display:"block"}),e=t}else e=$$("body").first().getHeight();e="Please Complete"==document.title?300:e+40,window.parent.postMessage("setHeight:"+e,"*")},fixIESubmitURL:function(){try{this.ie()<=8&&navigator.appVersion.indexOf("NT 5.")&&$A(this.forms).each(function(e){e.action.include("s://submit.")&&(e.action=e.action.replace(/\/\/submit\..*?\//,"//secure.jotform.com/"))})}catch(e){}},screenshot:!1,passive:!1,onprogress:!1,compact:!1,imageSaved:!1,handleScreenshot:function(){var e=this;setTimeout(function(){$$(".form-screen-button").each(function(t){window.parent&&window.parent.JotformFeedbackManager&&(e.getContainer(t).show(),t.observe("click",function(){e.passive=!1;try{e.takeScreenShot(t.id.replace("button_",""))}catch(o){console.error(o)}}),setTimeout(function(){e.passive=!window.parent.wishboxInstantLoad,e.takeScreenShot(t.id.replace("button_",""))},0))})},300)},getCharset:function(e){return e||(e=document),e.characterSet||e.defaultCharset||e.charset||"UTF-8"},disableHTML5FormValidation:function(){$$("form").each(function(e){e.setAttribute("novalidate",!0)})},takeScreenShot:function(e){var t=window.parent,o='<div id="js_loading" style="position:fixed; z-index:10000000; text-align:center; background:#333; border-radius:5px; top: 20px; right: 20px; padding:10px; box-shadow:0 0 5 rgba(0,0,0,0.5);"><img src="'+this.url+'images/loader-black.gif" /><div style="font-family:verdana; font-size:12px;color:#fff;">Please Wait</div></div>';if(this.onprogress)return void t.$jot(o).appendTo("body");if(t.wishboxCompactLoad&&(this.compact=!0),this.screenshot)return this.compact?t.$jot(".jt-dimmer").hide():t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide(),t.jotformScreenshotURL=this.screenshot.data,void this.injectEditor(this.screenshot.data,this.screenshot.shotURL);this.scuniq=JotForm.uniqid(),this.scID=e;var r=JotForm.getForm($("button_"+this.scID));this.sformID=r.formID.value,this.onprogress=!0;var i=this;this.wishboxServer="http://screenshots.jotform.com/wishbox-server.php";var n=new Element("form",{action:this.wishboxServer,target:"screen_frame",id:"screen_form",method:"post","accept-charset":"utf-8"}).hide(),a='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >';t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide(),t.$jot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"hidden"});var s=t.document.getElementsByTagName("html")[0].innerHTML;s=s.replace(/(<noscript\b[^>]*>.*?<\/noscript>)+/gim,""),s=s.replace(/(<noscript\b[^>]*>(\s+.*\s+)+)+<\/noscript>/gim,""),t.$jot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"visible"}),s=s.replace(/(\<\/head\>)/gim,"<style>body,html{ min-height: 800px; }</style>$1");var l=i.ie();void 0!==l&&9>l&&(s=s.replace(/(\<\/head\>)/gim,"<style>*{ border-radius:0 !important; text-shadow:none !important; box-shadow:none !important; }</style>$1")),this.passive?t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").show():(t.$jot(".jotform-feedback-link").show(),t.$jot(o).appendTo("body"));var u=new Element("textarea",{name:"html"}),c="utf-8"!==this.getCharset(t.document).toLowerCase();c?(u.value=encodeURIComponent(a+s+"</html>"),n.insert(new Element("input",{type:"hidden",name:"nozip"}).putValue("1"))):(n.insert(new Element("input",{type:"hidden",name:"nozip"}).putValue("0")),u.value=encodeURIComponent(t.$jot.jSEND(a+s+"</html>")));var d=new Element("input",{type:"hidden",name:"charset"}).putValue(this.getCharset(t.document)),m=new Element("input",{type:"hidden",name:"height"}).putValue(parseFloat(t.$jot(t).height())),p=new Element("input",{type:"hidden",name:"scrollTop"}).putValue(t.$jot(t).scrollTop()),f=new Element("input",{type:"hidden",name:"url"}).putValue(t.location.href),h=new Element("input",{type:"hidden",name:"uniqID"}).putValue(this.scuniq),v=new Element("input",{type:"hidden",name:"formID"}).putValue(this.sformID),g=new Element("input",{type:"hidden",name:"action"}).putValue("getScreenshot"),b=new Element("iframe",{name:"screen_frame",id:"screen_frame_id"}).hide();b.observe("load",function(){i.checkScreenShot()}),t.wishboxInstantLoad&&(void 0===l||l>8)&&this.injectEditor(!1,!1),n.insert(u).insert(m).insert(p).insert(g).insert(h).insert(f).insert(v).insert(d),$(document.body).insert(n).insert(b),n.submit()},checkScreenShot:function(){var e=this,t=window.parent,o=10;t.$jot.getJSON("http://screenshots.jotform.com/queue/"+this.scuniq+"?callback=?",function(r){r.success===!0?t.$jot.getJSON(r.dataURL+"?callback=?",function(o){e.passive===!1&&(t.jotformScreenshotURL=o.data,e.injectEditor(o.data,o.shotURL)),e.screenshot=o,e.onprogress=!1,$("screen_form")&&$("screen_form").remove(),$("screen_frame_id")&&$("screen_frame_id").remove()}):"waiting"!=r.status&&"working"!=r.status||!--o?(alert("We are under heavy load right now. Please try again later."),t.$jot(".jt-dimmer, .jotform-feedback-link").show(),t.$jot(".jt-feedback").show("slow")):setTimeout(function(){e.checkScreenShot()},1e3)})},injectEditor:function(e,t){if(!this.injected){this.injected=!0;var o=this,r=window.parent;r.$jot("#js_loading").remove(),r.$jot.getJSON(this.server+"?callback=?",{action:"getScreenEditorTemplate",compact:this.compact},function(i){var n='<iframe allowtransparency="true" id="wishbox-frame" src="" frameborder="0" style="display:none;border:none; ';n+=o.compact?"position:absolute;left:0;top:10px;height:"+(r.$jot(r).height()-120)+"px;width:"+(r.$jot(r).width()-100-r.$jot("#js-form-content").width())+"px;":"position:fixed;top:0;width:100%;height:100%;left:0;z-index:100000000;",n+='" scrolling="no"></iframe>';var a;r.iframeWidth=r.$jot(r).width()-100-r.$jot("#js-form-content").width(),r.iframeHeight=r.$jot(r).height()-120,a=o.compact?r.$jot(n).insertBefore("#js-form-content"):r.$jot(n).appendTo("body"),o.compact&&r.$jot("#js-form-content").css({"float":"right"});var s=o.ie();if(void 0!==s&&9>s){a.attr("src","http://screenshots.jotform.com/opt/templates/screen_editor.html?shot="+t+"&uniq="+o.scuniq);var l=r.$jot('<button style="color:#fff;font-size:14px;background:#F59202;border:1px solid #Fa98a2;font-weight:bold;position:fixed;top:5px;right:40px;width:100px;z-index:100000001;">Close Editor</button>').appendTo("body");l.click(function(){r.$jot.getJSON("http://screenshots.jotform.com/wishbox-server.php?callback=?",{action:"getImage",uniqID:o.scuniq},function(e){e.success?(d(),l.remove(),m(e.data,e.shotURL)):confirm("You haven't save your edits. Are you sure you want to close the editor?")&&(d(),l.remove())})})}else{var u=a[0],c=u.contentWindow?u.contentWindow:u.contentDocument.document?u.contentDocument.document:u.contentDocument;c.document.open(),c.document.write(i.template),setTimeout(function(){c.document.close()},200),r.jotformScreenshotURL=e}var d=function(){o.compact?(a.remove(),r.$jot("#js-form-content").css("width","100%")):a.hide("slow",function(){a.remove()}),o.injected=!1,r.$jot(".jt-dimmer, .jotform-feedback-link").show(),r.$jot(".jt-feedback").show("slow")},m=function(e,t){$("screen_"+o.scID).update('<img width="100%" align="center" src="'+(t?t:e)+'" />'),$("data_"+o.scID).value=e,$("screen_"+o.scID).up().show()};r.JotformCancelEditor=function(){d()},r.JotformFinishEditing=function(e){d(),m(e),o.imageSaved=!0,o.compact&&setTimeout(function(){$(document).fire("image:loaded")},100)}})}},populateGet:function(){try{"FrameBuilder"in window.parent&&"get"in window.parent.FrameBuilder&&window.parent.FrameBuilder.get!=[]&&(document.get=Object.extend(document.get,window.parent.FrameBuilder.get))}catch(e){}},checkMultipleUploads:function(){if($$(".form-upload-multiple").length>0){var e=document.createElement("script");e.type="text/javascript",e.src=this.url.replace("submit.","www.")+"file-uploader/fileuploader.js",$(document.body).appendChild(e)}},uniqid:function(e,t){"undefined"==typeof e&&(e="");var o,r=function(e,t){return e=parseInt(e,10).toString(16),t<e.length?e.slice(e.length-t):t>e.length?Array(1+(t-e.length)).join("0")+e:e};return this.php_js||(this.php_js={}),this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(123456789*Math.random())),this.php_js.uniqidSeed++,o=e,o+=r(parseInt((new Date).getTime()/1e3,10),8),o+=r(this.php_js.uniqidSeed,5),t&&(o+=(10*Math.random()).toFixed(8).toString()),o},initMultipleUploads:function(){$$(".form-upload-multiple").each(function(e){var t=e.up("div"),o=JotForm.getForm(e),r=o.formID.value,i=r+"_"+JotForm.uniqueID,n=e.className;n.include("validate[required]")&&(t.addClassName("validate[required]"),t.validateInput=function(){return JotForm.isVisible(t)?t.select(".qq-upload-list li").length<1?(JotForm.errored(t,JotForm.texts.required),!1):(JotForm.corrected(t),!0):(JotForm.corrected(t),!0)});var a=new Element("input",{type:"hidden",name:"temp_upload_folder"}).setValue(i);o.insert({top:a});var s=(e.readAttribute("file-accept")||"").strip();s="*"!==s?s.split(", "):[];var l,u="";(l=e.next())&&l.hasClassName("form-sub-label")&&(u=l.innerHTML);var c,d;(c=e.previous(".qq-uploader-buttonText-value"))&&(d=c.innerHTML),d||(d="Upload a File");var m=new qq.FileUploader({debug:JotForm.debug,element:t,action:JotForm.server,subLabel:u,buttonText:d,sizeLimit:1024*parseInt(e.readAttribute("file-maxsize"),10),allowedExtensions:s,onComplete:function(e,o,r){r.success&&(t.value="uploaded",JotForm.corrected(t))},showMessage:function(e){JotForm.errored(t,e),setTimeout(function(){},3e3)},params:{action:"multipleUpload",field:e.name.replace("[]",""),folder:i}})})},hiddenSubmit:function(e){if(JotForm.currentSection&&JotForm.currentSection.select(".form-pagebreak")[0].insert(new Element("div",{className:"form-saving-indicator"}).setStyle("float:right;padding:21px 12px 10px").update('<img src="'+JotForm.url+'images/ajax-loader.gif" align="absmiddle" /> Saving...')),setTimeout(function(){JotForm.saving=!0},10),!$("hidden_submit_form")){var t=new Element("iframe",{name:"hidden_submit",id:"hidden_submit_form"}).hide();t.observe("load",function(){JotForm.makeUploadChecks(),$$(".form-saving-indicator").invoke("remove"),JotForm.saving=!1}),$(document.body).insert(t)}$("current_page").value=JotForm.currentSection.pagesIndex,e.writeAttribute("target","hidden_submit"),e.insert({top:new Element("input",{type:"hidden",name:"hidden_submission",id:"hidden_submission"}).putValue("1")}),e.submit(),e.writeAttribute("target",""),$("hidden_submission").remove()},makeUploadChecks:function(){var e=$$('input[name="formID"]')[0],t=new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"getSavedUploadResults",formID:e.value,sessionID:document.get.session},evalJSON:"force",onComplete:function(t){console.log(o);var o=t.responseJSON;o.success&&(o.submissionID&&!$("submission_id")&&e.insert({after:new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"}).putValue(o.submissionID)}),JotForm.editMode(o,!0))}})},handleSavedForm:function(){if("session"in document.get){JotForm.saveForm=!0;var e=$$('input[name="formID"]')[0];e.insert({after:new Element("input",{type:"hidden",name:"session_id",id:"session"}).putValue(document.get.session)}),e.insert({after:new Element("input",{type:"hidden",id:"current_page",name:"current_page"}).putValue(0)});var t=new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"getSavedSubmissionResults",formID:e.value,sessionID:document.get.session},evalJSON:"force",onComplete:function(t){var o=t.responseJSON;if(o.success){o.submissionID&&e.insert({after:new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"}).putValue(o.submissionID)});try{JotForm.editMode(o)}catch(r){console.error(r)}JotForm.openInitially=o.currentPage-1}}})}},setTitle:function(){if("Form"==document.title){var e;if(e=$$(".form-header")[0])try{document.title=e.innerHTML.stripTags().strip(),document.title=document.title.unescapeHTML()}catch(t){document.title=e.innerHTML}}},setFocusEvents:function(){$$(".form-radio, .form-checkbox").each(function(e){e.observe("mousedown",function(){JotForm.lastFocus=e})}),$$(".form-textbox, .form-password, .form-textarea, .form-upload, .form-dropdown").each(function(e){e.observe("focus",function(){JotForm.lastFocus=e})})},disableAcceptonChrome:function(){Prototype.Browser.WebKit&&$$(".form-upload").each(function(e){if(e.hasAttribute("accept")){var t=e.readAttribute("accept");e.writeAttribute("accept",""),e.writeAttribute("file-accept",t)}})},displayLocalTime:function(e,t,o){if($(e)&&!$(e).hasClassName("noDefault")){var r=new Date,i=r.getHours(),n="",a=!0;$(o)&&(a=!1,n=i>11?"PM":"AM",i=i>12?i-12:i,i=0==i?12:i);var s=r.getMinutes(),l=Number($(t).options[2].value)-Number($(t).options[1].value);s=Math.round(s/l)*l,s=this.addZeros(s,2),s>=60&&(s="00",i++,a?24==i&&(i=0):"AM"==n&&12==i?n="PM":"PM"==n&&12==i?n="AM":13==i&&(i=1)),$(e).value=i,$(t).value=s,$(e+"Range")&&($(e+"Range").value=i,$(t+"Range").value=s),"PM"==n&&($(o).value="PM",$(o+"Range")&&($(o+"Range").value="PM"))}},setCalendar:function(e){try{var t=Calendar.setup({triggerElement:"input_"+e+"_pick",dateField:"year_"+e,closeHandler:JotForm.calendarClose,selectHandler:JotForm.formatDate});$("id_"+e).observe("keyup",function(){$("id_"+e).fire("date:changed")}),$("day_"+e).hasClassName("noDefault")||JotForm.formatDate({date:new Date,dateField:$("id_"+e)});var o=function(){if(document.createEvent){var e=this;setTimeout(function(){t.showAtElement(e)},50)}};$("input_"+e+"_pick").hasClassName("showAutoCalendar")&&($("day_"+e).observe("focus",o),$("month_"+e).observe("focus",o),$("year_"+e).observe("focus",o)),$("day_"+e).observe("blur",function(){JotForm.calendarClose(t)}),$("month_"+e).observe("blur",function(){JotForm.calendarClose(t)}),$("year_"+e).observe("blur",function(){JotForm.calendarClose(t)})}catch(r){JotForm.error(r)}},calendarClose:function(e){if(e.dateField.className.include("validate[required]")){if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),e.dateField.dispatchEvent(t)}this.fireEvent&&e.dateField.fireEvent("onchange")}e.hide()},getDefaults:function(){$$(".form-textbox, .form-dropdown, .form-textarea").each(function(e){e.hinted||""===e.value||(JotForm.defaultValues[e.id]=e.value)}),$$(".form-radio, .form-checkbox").each(function(e){e.checked&&(JotForm.defaultValues[e.id]=e.value)})},handleOtherOptions:function(){$$(".form-radio-other-input, .form-checkbox-other-input").each(function(e){e.disable().hint("Other")}),$$(".form-radio, .form-checkbox").each(function(e){var t=e.id.replace(/input_(\d+)_\d+/gim,"$1");if(t.match("other_")&&(t=e.id.replace(/other_(\d+)/,"$1")),$("other_"+t)){var o=$("other_"+t),r=$("input_"+t),i="radio"==e.type?e:o;"checkbox"==e.type&&r.observe("keyup",function(){o.value=r.value}),i.observe("click",function(){o.checked?(r.enable(),r.select()):(r.hintClear&&r.hintClear(),r.disable())})}})},handleDateTimeChecks:function(){$$("[name$=[month]]").each(function(e){var t=e.id.split("month_").last(),o=$("id_"+t);if(o){var r=o.select("#day_"+t).first(),i=o.select("#year_"+t).first(),n=o.select("#hour_"+t).first(),a=o.select("#min_"+t).first(),s=o.select("#ampm_"+t).first(),l=function(){var t=null;if(""!=e.value||""!=r.value||""!=i.value){var l=+e.value,u=+r.value,c=+i.value;if(isNaN(c)||0>c)t=i;else if(isNaN(l)||1>l||l>12)t=e;else if(isNaN(u)||1>u)t=r;else switch(l){case 2:(c%4==0?u>29:u>28)&&(t=r);break;case 4:case 6:case 9:case 11:u>30&&(t=r);break;default:u>31&&(t=r)}}if(!t&&n&&a&&(""!=n.value||""!=a.value)){var d=""==n.value.strip()?-1:+n.value,m=""==a.value.strip()?-1:+a.value;isNaN(d)||(s?0>d||d>12:0>d||d>23)?t=n:(isNaN(m)||0>m||m>59)&&(t=a)}t?(t===n||t===a?(t.errored=!1,JotForm.errored(t,"Enter a valid time")):(t.errored=!1,JotForm.errored(t,"Enter a valid date")),o.addClassName("form-line-error"),o.addClassName("form-datetime-validation-error")):(JotForm.corrected(e),JotForm.corrected(r),JotForm.corrected(i),n&&a&&(JotForm.corrected(n),JotForm.corrected(a)),o.removeClassName("form-line-error"),o.removeClassName("form-datetime-validation-error"))};e.observe("change",l),r.observe("change",l),i.observe("change",l),n&&a&&(n.observe("change",l),a.observe("change",l))}})},handleTextareaLimits:function(){$$(".form-textarea-limit-indicator span").each(function(e){var t=e.id.split("-")[0];if($(t)){var o=e.readAttribute("type"),r=e.readAttribute("limit"),i=$(t),n;i.observe("change",function(t){"Words"==o?n=$A(i.value.split(/\s+/)).without("").length:"Letters"==o&&(n=i.value.length),n>r?$(e.parentNode).addClassName("form-textarea-limit-indicator-error"):$(e.parentNode).removeClassName("form-textarea-limit-indicator-error"),e.update(n+"/"+r)}),i.run("keyup"),i.observe("keyup",function(t){"Words"==o?n=$A(i.value.split(/\s+/)).without("").length:"Letters"==o&&(n=i.value.length),n>r?$(e.parentNode).addClassName("form-textarea-limit-indicator-error"):$(e.parentNode).removeClassName("form-textarea-limit-indicator-error"),e.update(n+"/"+r)}),i.run("keyup")}})},handleAutoCompletes:function(){$H(JotForm.autoCompletes).each(function(e){var t=$(e.key);t.writeAttribute("autocomplete","off");var o=$(t.parentNode),r=$A(e.value.split("|")),i,n=0,a=0,s=new Element("div",{className:"form-autocomplete-list"}).setStyle({listStyle:"none",listStylePosition:"outside",position:"absolute",zIndex:"10000"}).hide(),l=function(){var e=t.getDimensions(),o=t.cumulativeOffset();s.setStyle({top:e.height+o[1]+"px",left:o[0]+"px",width:(e.width<1?100:e.width)-2+"px"}),s.show()};$(document.body).insert(s),s.close=function(){s.update(),s.hide(),n=0},t.observe("blur",function(){s.close()}),t.observe("keyup",function(e){var o=t.value;if(i!=o){if(i=o,s.update(),!o)return void s.close();var n=r.collect(function(e){return e.toLowerCase().include(o.toLowerCase())?e:void 0}).compact();n.length>0?(n.each(function(e){var r=new Element("li",{className:"form-autocomplete-list-item"}),i=e;r.val=i;try{i=e.replace(new RegExp("("+o+")","gim"),"<b>$1</b>")}catch(n){JotForm.error(n)}r.insert(i),r.onmousedown=function(){t.value=e,s.close()},s.insert(r)}),l(),a=a||$(s.firstChild).getHeight()+(parseInt($(s.firstChild).getStyle("padding"),10)||0)+(parseInt($(s.firstChild).getStyle("margin"),10)||0),s.setStyle({height:a*(n.length>9?10:n.length)+4+"px",overflow:"auto"})):s.close()}}),t.observe("keydown",function(e){var o;if(s.visible()&&s.firstChild)switch(o=s.select(".form-autocomplete-list-item-selected")[0],o&&o.removeClassName("form-autocomplete-list-item-selected"),e.keyCode){case Event.KEY_UP:o&&o.previousSibling?$(o.previousSibling).addClassName("form-autocomplete-list-item-selected"):$(s.lastChild).addClassName("form-autocomplete-list-item-selected"),1>=n?o&&o.previousSibling?($(o.previousSibling).scrollIntoView(!0),n=0):($(s.lastChild).scrollIntoView(!1),n=10):n--;break;case Event.KEY_DOWN:o&&o.nextSibling?$(o.nextSibling).addClassName("form-autocomplete-list-item-selected"):$(s.firstChild).addClassName("form-autocomplete-list-item-selected"),n>=9?o&&o.nextSibling?($(o.nextSibling).scrollIntoView(!1),n=10):($(s.firstChild).scrollIntoView(!0),n=0):n++;break;case Event.KEY_ESC:s.close();break;case Event.KEY_TAB:case Event.KEY_RETURN:o&&(t.value=o.val,i=t.value),s.close(),e.keyCode==Event.KEY_RETURN&&e.stop();break;default:return}})})},getFileExtension:function(e){return/[.]/.exec(e)?/[^.]+$/.exec(e)[0]:void 0},prePopulations:function(){Element.prototype.triggerEvent=function(e){if(document.createEvent){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),this.dispatchEvent(t)}return this.fireEvent?this.fireEvent("on"+e):void 0},$H(document.get).each(function(e){if(!(e.key.length<3)){var t='[name*="_'+e.key+'"]',o=$$(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,t))[0];o&&(o.value=e.value.replace(/\+/g," "),JotForm.defaultValues[o.id]=o.value),$$(".form-textbox%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,t)).each(function(e){e.triggerEvent("keyup")}),$$(".form-dropdown%s".replace(/\%s/gim,t)).each(function(e){e.triggerEvent("change")}),$$(".form-checkbox%s, .form-radio%s".replace(/\%s/gim,t)).each(function(t){$A(e.value.split(",")).include(t.value)&&t.click()})}})},resetForm:function(e){var t=$(e).select('input[type="hidden"]');return t.each(function(e){e.__defaultValue=e.value}),$(e).reset(),t.each(function(e){e.value=e.__defaultValue}),e},editMode:function(e,t,o){o=o||[];var r=function(e){t||$A(JotForm.forms).each(function(e){JotForm.resetForm(e)}),$H(e.result).each(function(e){var t=e.key,r=e.value;try{if($A(o).include(r.type))return!0;switch(r.type){case"control_fileupload":if($("input_"+t)&&$("input_"+t).uploadMarked==r.value)break;setTimeout(function(){if($$("#id_"+t+" .qq-upload-list")[0]){var e=r.value,o,i;e=e.replace(/<a/g,'<li class=" qq-upload-success"><span class="qq-upload-file"><a'),e=e.replace(/<\/a>/g,'</a></span><span class="qq-upload-delete">X</span></li>'),e=e.replace(/<br>/g,""),$$("#id_"+t+" ul.qq-upload-list")[0].update(e),setTimeout(function(){var e=$$("#id_"+t+" ul.qq-upload-list li span.qq-upload-delete");e&&e.each(function(e){e.observe("click",function(){this.up().hide();var e=this.up().select("a")[0].text;e||(e=this.up().select("a")[0].innerText),$("uploadedBefores_"+t).value=$("uploadedBefores_"+t).value.replace(e,""),$("uploadedBefores_"+t).value||($("uploadedBefores_"+t).value=",")})})},200),o=$$("#id_"+t+" ul.qq-upload-list li a"),i="",o&&(o.each(function(e){e.text?i+=e.text+",":e.innerText?i+=e.innerText+",":e.up("li.qq-upload-success").hide()}),i=i.substring(0,i.length-1)),$("cid_"+t).insert({after:new Element("input",{id:"uploadedBefores_"+t,type:"hidden",name:"uploadedBefore"+t}).putValue(i)})}else{$$("#clip_"+t+", #link_"+t+", #old_"+t).invoke("remove"),$("input_"+t).uploadMarked=r.value,$("input_"+t).resetUpload();var n=r.value.split("/"),a=n[n.length-1],s=JotForm.getFileExtension(a);if(void 0!==s&&JotForm.imageFiles.include(s.toLowerCase())){var l=new Element("div",{id:"clip_"+t}).setStyle({height:"50px",width:"50px",overflow:"hidden",marginRight:"5px",border:"1px solid #ccc",background:"#fff",cssFloat:"left"}),u=new Element("img",{src:r.value,width:50});l.insert(u),$("input_"+t).insert({before:l})}var c=new Element("div",{id:"link_"+t});$("input_"+t).insert({after:c.insert(new Element("a",{href:r.value,target:"_blank"}).insert(a.shorten(40)))}),$("input_"+t).insert({after:new Element("input",{type:"hidden",name:"input_"+t+"_old",id:"old_"+t}).putValue(r.items)})}},200);break;case"control_scale":case"control_radio":if(void 0==r.name)var i=$$("#id_"+t+' input[type="radio"]');else var i=document.getElementsByName("q"+t+"_"+("control_radio"==r.type||"control_scale"==r.type?r.name:t));$A(i).each(function(e){e.value==r.value&&(e.checked=!0)});break;case"control_checkbox":var n=$$("#id_"+t+' input[type="checkbox"]');$A(n).each(function(e){r.items.include(e.value)&&(e.checked=!0)});break;case"control_rating":$("input_"+t)&&$("input_"+t).setRating(r.value);break;case"control_grading":var a=arguments[0][1],s=arguments[0][0];if(!a.isEmpty){var l=0;$A(a.items).each(function(e,t){var o=document.getElementById("input_"+s+"_"+t);o.putValue(e),l+=parseInt(e)});var u=document.getElementById("grade_point_"+s);u.update(l)}break;case"control_slider":$("input_"+t).setSliderValue(r.value);break;case"control_range":$("input_"+t+"_from").putValue(r.items.from),$("input_"+t+"_to").putValue(r.items.to);break;case"control_matrix":var c,d=!1;if(Object.isArray(r.items)?c=$A(r.items):(c=$H(r.items),d=!0),void 0==r.name){var m=$$("#id_"+t+" input")[0]||$$("#id_"+t+" select")[0],p=m.name,f=p.indexOf("_")+1,h=p.indexOf("[")-f;r.name=p.substr(f,h)}c.each(function(e,o){if(d&&(o=e.key,e=e.value),Object.isString(e)){var i=document.getElementsByName("q"+t+"_"+r.name+"["+o+"]");$A(i).each(function(t){t.value==e&&(t.checked=!0)})}else $A(e).each(function(e,i){var n=document.getElementsByName("q"+t+"_"+r.name+"["+o+"][]");"form-checkbox"==n[i].className?$A(n).each(function(t){t.value==e&&(t.checked=!0)}):n[i].value=e})});break;case"control_datetime":case"control_fullname":$H(r.items).each(function(e){$(e.key+"_"+t)&&($(e.key+"_"+t).value=e.value)});break;case"control_phone":case"control_birthdate":case"control_address":case"control_time":$H(r.items).each(function(e){$("input_"+t+"_"+e.key)&&$("input_"+t+"_"+e.key).putValue(e.value)});break;case"control_autoincrement":case"control_hidden":if($("input_"+t))if(JotForm.saveForm||"edit"==document.get.mode)$("input_"+t).putValue(r.value);else{var v=$$(".form-section")[0];$$('.form-section li[title="Hidden Field"]')[0];var g=$$('.form-section li[title="Hidden Field"]'),b='<li id="id_'+t+'" class="form-line" title="Hidden Field"><label for="input_'+t+'" id="label_'+t+'" class="form-label-left"> '+r.text+' </label><div class="form-input" id="cid_'+t+'"></div></li>';g.size()>0?g.last().insert({after:b}):v.insert({top:b}),$("cid_"+t).insert($("input_"+t).putValue(r.value));var F=$("input_"+t);F.replace('<input type="text" id="'+F.id+'" name="'+F.name+'" value="'+F.value+'">'),$("input_"+t).setStyle({opacity:.9,border:"1px dashed #999",padding:"3px"})}break;case"control_payment":case"control_stripe":case"control_paypal":case"control_paypalpro":case"control_clickbank":case"control_2co":case"control_worldpay":case"control_googleco":case"control_onebip":case"control_authnet":$H(r.items).each(function(e){"price"==e.key?$("input_"+t+"_donation").value=e.value:"pid"in e.value&&$("input_"+t+"_"+e.value.pid)&&($("input_"+t+"_"+e.value.pid).checked=!0,"options"in e.value&&$A(e.value.options).each(function(o,r){$("input_"+t+"_"+o.type+"_"+e.value.pid+"_"+r)&&($("input_"+t+"_"+o.type+"_"+e.value.pid+"_"+r).value=o.selected)}))});break;case"control_email":var _=$("input_"+t);_&&(_.putValue(r.value),_=$("input_"+t+"_confirm"),_&&_.putValue(r.value));break;default:$("input_"+t)&&$("input_"+t).putValue(r.value)}}catch(y){}}),$H(JotForm.fieldConditions).each(function(e){var t=e.key,o=e.value.event;$(t)&&$(t).run(o)})};if(e)r(e);else var i=new Ajax.Request("server.php",{parameters:{action:"getSubmissionResults",formID:document.get.sid},evalJSON:"force",onComplete:function(e){var t=e.responseJSON;if(t.success&&(r(t),$$('input[name="formID"]')[0].insert({after:new Element("input",{type:"hidden",name:"editSubmission"}).putValue(document.get.sid)}),("inlineEdit"==document.get.mode||"submissionToPDF"==document.get.mode)&&$$('input[name="formID"]')[0].insert({after:new Element("input",{type:"hidden",name:"inlineEdit"}).putValue("yes")}),JotForm.getContainer($$(".form-captcha")[0]).hide(),"submissionToPDF"==document.get.mode)){$$(".form-section").each(function(e){e.setStyle({display:"inline"})}),$$(".form-section-closed").each(function(e){e.setStyle({height:"auto"})});var o=new Ajax.Request("server.php",{parameters:{action:"getSetting",identifier:"form",key:"columnSetting"},evalJSON:"force",onComplete:function(e){var o=e.responseJSON.value,r=$H();o.each(function(e){isNaN(parseInt(e))||(r["id_"+e]=!0)});var i=o.indexOf("autoHide")>-1,n=o.indexOf("showNonInputs")>-1,a=$$(".jotform-form")[0];o.indexOf("showIP")>-1&&a.insert({top:new Element("div").update("IP: ")}),-1==o.indexOf("created_at")&&a.insert({top:new Element("div").update("Submission Date: "+t.result.created_at.value)}),-1==o.indexOf("id")&&a.insert({top:new Element("div").update("Submission ID: "+document.get.sid)}),$$(".form-line").each(function(e){e.setStyle(r(e.id)?{display:"none"}:{display:""})})}.bind(this)})}}.bind(this)})},setConditions:function(e){JotForm.conditions=e,e.each(function(e){e.action=[].concat(e.action)})},showField:function(e){var t=null,o=$("id_"+e),r=$("cid_"+e),i=$("section_"+e);return(t=i&&r?i:r&&!o?r:o)?(t.removeClassName("form-field-hidden"),i&&(t.hasClassName("form-section-closed")?t.select(".form-collapse-table")[0].hasClassName("form-collapse-hidden")?(t.removeClassName("form-section-closed"),t.addClassName("form-section"),t.setStyle({height:"auto",overflow:"hidden"})):t.setStyle({overflow:"hidden"}):t.setStyle({height:"auto",overflow:"hidden"})),t.show()):t},hideField:function(e){var t="id_";$("cid_"+e)&&!$("id_"+e)&&(t="cid_"),$("cid_"+e)&&$("section_"+e)&&(t="section_");
var o=$(t+e);return o?(o.addClassName("form-field-hidden"),o.hide()):void 0},checkValueByOperator:function(e,t,o){var r=Object.isBoolean(o)?o:o.toString().strip(),i=Object.isBoolean(t)?t:t.toString().strip();switch(e){case"equals":case"equalDate":return r==i;case"notEquals":case"notEqualDate":return r!=i;case"endsWith":return r.endsWith(i);case"startsWith":return r.startsWith(i);case"contains":return r.include(i);case"notContains":return!r.include(i);case"greaterThan":return(parseInt(r,10)||0)>(parseInt(i,10)||0);case"lessThan":return r.length?(parseInt(r,10)||0)<(parseInt(i,10)||0):!1;case"isEmpty":return Object.isBoolean(r)?!r:r.empty();case"isFilled":return Object.isBoolean(r)?r:!r.empty();case"before":return t>o;case"after":return o>t;default:JotForm.error("Could not find this operator",e)}return!1},typeCache:{},getInputType:function(e){if(JotForm.typeCache[e])return JotForm.typeCache[e];var t=!1;return $("input_"+e)?(t="input"==$("input_"+e).nodeName.toLowerCase()?$("input_"+e).readAttribute("type").toLowerCase():$("input_"+e).nodeName.toLowerCase(),$("input_"+e).hasClassName("form-radio-other-input")&&(t="radio"),$("input_"+e).hasClassName("form-checkbox-other-input")&&(t="checkbox"),$("input_"+e).hasClassName("form-autocomplete")&&(t="autocomplete")):$("input_"+e+"_pick")?t="datetime":$("input_"+e+"_month")?t="birthdate":$("input_"+e+"_hourSelect")?t="time":$$("#id_"+e+" input")[0]&&(t=$$("#id_"+e+" input")[0].readAttribute("type").toLowerCase(),"text"==t&&(t="combined")),JotForm.typeCache[e]=t,t},strToDate:function(e){var t=new Date(void 0),o=/(\d{4})\-(\d{2})-(\d{2})T?(\d{2})?\:?(\d{2})?/gim;if(e.empty())return t;if(!o.test(e))return t;var r=new Date;return e.replace(o,function(e,t,o,i,n,a){return r.setYear(parseInt(t,10)),r.setMonth(parseInt(o,10)-1),r.setDate(parseInt(i,10)),n&&(r.setHours(parseInt(n,10)),r.setMinutes(parseInt(a,10))),e}),r},getBirthDate:function(e){var t=$("input_"+e+"_day").getValue()||"%empty%",o=$("input_"+e+"_month").selectedIndex||"%empty%";o=String(o);var r=$("input_"+e+"_year").getValue()||"%empty%",i=r+"-"+(1==o.length?"0"+o:o)+"-"+(1==t.length?"0"+t:t);return i.include("%empty%")?"":i},get24HourTime:function(e){var t=$("input_"+e+"_hourSelect").getValue();if(""==t)return"";var o=$("input_"+e+"_minuteSelect").getValue();0==o.length&&(o="00");var r=$("input_"+e+"_ampm")?$("input_"+e+"_ampm").getValue():"";return t=Number(t),"PM"==r&&12!=t?t+=12:"AM"==r&&12==t&&(t=0),t=10>t?"0"+t:String(t),t+o},getDateValue:function(e){var t="";if($("year_"+e)&&(t+=$("year_"+e).value||"%empty%"),$("month_"+e)&&(t+="-"+($("month_"+e).value||"%empty%")),$("day_"+e)&&(t+="-"+($("day_"+e).value||"%empty%")),t.include("%empty%"))return JotForm.info("Wrong date: "+t),"";var o="";return $("ampm_"+e)?$("hour_"+e)&&(o=$("hour_"+e).value,"pm"==$("ampm_"+e).value&&(o=parseInt(o,10)+12),"24"==o&&(o=0),t+="T"+((1==o.length?"0"+o:o)||"00")):$("hour_"+e)&&(o=$("hour_"+e).value,t+="T"+((1==o.length?"0"+o:o)||"00")),$("min_"+e)&&(t+=":"+($("min_"+e).value||"00")),""===o&&(t+="T00:00"),t},checkCondition:function(e){var t=!1,o=!0,r;if($A(e.terms).each(function(e){function i(r){n=$("input_"+e.field+r).value,$("input_"+e.field+r).hinted&&(n=""),void 0!==n&&(JotForm.checkValueByOperator(e.operator,e.value,n)?t=!0:o=!1)}var n;try{switch(JotForm.getInputType(e.field)){case"combined":if(["isEmpty","isFilled"].include(e.operator))return r=$$("#id_"+e.field+" input").collect(function(e){return e.value}).any(),void(JotForm.checkValueByOperator(e.operator,e.value,r)?t=!0:o=!1);break;case"birthdate":case"datetime":if(n="datetime"==JotForm.getInputType(e.field)?JotForm.getDateValue(e.field):JotForm.getBirthDate(e.field),void 0===n)return;["isEmpty","isFilled"].include(e.operator)?JotForm.checkValueByOperator(e.operator,e.value,n)?t=!0:o=!1:["equalDate","notEqualDate"].include(e.operator)?JotForm.checkValueByOperator(e.operator,JotForm.strToDate(e.value),JotForm.strToDate(n.split("T")[0]))?t=!0:o=!1:JotForm.checkValueByOperator(e.operator,JotForm.strToDate(e.value),JotForm.strToDate(n))?t=!0:o=!1;break;case"time":n=JotForm.get24HourTime(e.field);var a=e.value?e.value.replace(/:/,""):"";3==a.length&&(a="0"+a),JotForm.checkValueByOperator(e.operator,a,n)?t=!0:o=!1;break;case"checkbox":case"radio":if(["isEmpty","isFilled"].include(e.operator))return r=$$("#id_"+e.field+" input").collect(function(e){return e.checked}).any(),void(JotForm.checkValueByOperator(e.operator,e.value,r)?t=!0:o=!1);$$("#id_"+e.field+" input").each(function(r){var i=r.checked?r.value:"";if(JotForm.checkValueByOperator(e.operator,e.value,i))t=!0;else{if("notEquals"==e.operator&&e.value==i)throw t=!1,o=!1,$break;r.value==e.value&&(o=!1)}});break;case"tel":i("_area"),i("_phone");break;default:if(n=$("input_"+e.field).value,$("input_"+e.field).hinted&&(n=""),void 0===n)return;JotForm.checkValueByOperator(e.operator,e.value,n)?t=!0:o=!1}}catch(s){JotForm.error(s)}}),"field"==e.type){var i="any"==e.link.toLowerCase()&&t||"all"==e.link.toLowerCase()&&o;e.action.each(function(e){i?"show"==e.visibility.toLowerCase()?JotForm.showField(e.field):JotForm.hideField(e.field):"show"==e.visibility.toLowerCase()?JotForm.hideField(e.field):JotForm.showField(e.field)})}else{if(JotForm.log("any: %s, all: %s, link: %s",t,o,e.link.toLowerCase()),JotForm.nextPage)return;if("any"==e.link.toLowerCase()&&t||"all"==e.link.toLowerCase()&&o){var n=e.action[0];JotForm.info("Correct: Skip To: "+n.skipTo);var a=$$(".form-section:not([id^=section_])");JotForm.nextPage="end"==n.skipTo?a[a.length-1]:a[parseInt(n.skipTo.replace("page-",""),10)-1]}else JotForm.info("Fail: Skip To: page-"+JotForm.currentPage+1),JotForm.nextPage=!1}},currentPage:!1,nextPage:!1,previousPage:!1,fieldConditions:{},setFieldConditions:function(e,t,o){JotForm.fieldConditions[e]||(JotForm.fieldConditions[e]={event:t,conditions:[]}),JotForm.fieldConditions[e].conditions.push(o)},setConditionEvents:function(){try{$A(JotForm.conditions).each(function(e){$A(e.terms).each("field"==e.type?function(t){var o=t.field;switch(JotForm.getInputType(o)){case"combined":JotForm.setFieldConditions("id_"+o,"keyup",e);break;case"datetime":JotForm.setFieldConditions("id_"+o,"date:changed",e);break;case"birthdate":JotForm.setFieldConditions("input_"+o+"_day","change",e),JotForm.setFieldConditions("input_"+o+"_month","change",e),JotForm.setFieldConditions("input_"+o+"_year","change",e);break;case"time":JotForm.setFieldConditions("input_"+o+"_hourSelect","change",e),JotForm.setFieldConditions("input_"+o+"_minuteSelect","change",e),JotForm.setFieldConditions("input_"+o+"_ampm","change",e);case"select":case"file":JotForm.setFieldConditions("input_"+o,"change",e);break;case"checkbox":case"radio":JotForm.setFieldConditions("id_"+o,"click",e);break;case"tel":JotForm.setFieldConditions("input_"+o+"_area","keyup",e),JotForm.setFieldConditions("input_"+o+"_phone","keyup",e);break;case"number":JotForm.setFieldConditions("input_"+o,"number",e);break;case"autocomplete":JotForm.setFieldConditions("input_"+o,"autocomplete",e);break;default:JotForm.setFieldConditions("input_"+o,"keyup",e)}}:function(t){var o=t.field,r=JotForm.getSection($("id_"+o)).select(".form-pagebreak-next")[0];r&&r.observe("mousedown",function(){JotForm.checkCondition(e)})})}),$H(JotForm.fieldConditions).each(function(e){var t=e.key,o=e.value.event,r=e.value.conditions;$(t)&&("autocomplete"==o?($(t).observe("blur",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("blur"),$(t).observe("keyup",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("keyup")):"number"==o?($(t).observe("change",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("change"),$(t).observe("keyup",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("keyup")):$(t).observe(o,function(){$A(r).each(function(e){var o=t.replace(/[^0-9]/gim,"");JotForm.checkCondition(e)})}).run(o))})}catch(e){JotForm.error(e)}},countTotal:function(e){var t=0;$H(e).each(function(e){t=parseFloat(t);var o=parseFloat(e.value.price);if($(e.value.specialPriceField)){var r=$(e.value.specialPriceField),i=r.selectedIndex,n=r.options;o=parseFloat(e.value.specialPriceList[n[i].index]),$(e.key+"_price").update(parseFloat(o).toFixed(2))}$(e.key).checked?(($(e.value.quantityField)||$(e.value.specialPriceField))&&($(e.value.quantityField)&&e.value.specialPriceField!==e.value.quantityField&&("text"==$(e.value.quantityField).readAttribute("type")?o=$(e.value.quantityField).value?o*Math.abs(parseInt($(e.value.quantityField).value,10)):0:o*=parseInt($(e.value.quantityField).getSelected().text,10)),$(e.key+"_subtotal")&&!isNaN(o)&&$(e.key+"_subtotal").update(parseFloat(o).toFixed(2))),t+=o):($(e.key+"_subtotal")||isNaN(o))&&$(e.key+"_subtotal").update("0.00")}),(0===t||isNaN(t))&&(t="0.00"),$("payment_total")&&$("payment_total").update(parseFloat(t).toFixed(2))},totalCounter:function(e){document.observe("dom:loaded",JotForm.countTotal(e)),$H(e).each(function(t){function o(){JotForm.isVisible($(t.value.quantityField))&&($(t.key).checked=$(t.value.quantityField).value<=0?!1:!0,JotForm.countTotal(e))}function r(){JotForm.isVisible($(t.value.specialPriceField))&&($(t.key).checked=!0,JotForm.countTotal(e))}$(t.key).observe("click",function(){JotForm.countTotal(e)}),$(t.value.quantityField)&&($(t.value.quantityField).observe("change",function(){setTimeout(o,50)}),$(t.value.quantityField).observe("keyup",function(){setTimeout(o,50)})),$(t.value.specialPriceField)&&($(t.value.specialPriceField).observe("change",function(){setTimeout(r,50)}),$(t.value.specialPriceField).observe("keyup",function(){setTimeout(r,50)}))})},initCaptcha:function(e){setTimeout(function(){var t=new Ajax.Jsonp(JotForm.server,{parameters:{action:"getCaptchaId"},evalJSON:"force",onComplete:function(t){t=t.responseJSON||t,t.success&&($(e+"_captcha").src=JotForm.url+"server.php?action=getCaptchaImg&code="+t.num,$(e+"_captcha_id").value=t.num)}})},150)},reloadCaptcha:function(e){$(e+"_captcha").src=JotForm.url+"images/blank.gif",JotForm.initCaptcha(e)},addZeros:function(e,t){e=e.toString();var o="";if(t>e.length)for(i=0;i<t-e.length;i++)o+="0";return o+e.toString()},formatDate:function(e){var t=e.date,o=JotForm.addZeros(t.getMonth()+1,2),r=JotForm.addZeros(t.getDate(),2),i=t.getYear()<1e3?t.getYear()+1900:t.getYear(),n=e.dateField.id.replace(/\w+\_/gim,"");$("month_"+n).value=o,$("day_"+n).value=r,$("year_"+n).value=i,$("id_"+n).fire("date:changed")},highLightLines:function(){$$(".form-line").each(function(e,t){e.select("input, select, textarea, div, table div, button").each(function(t){t.observe("focus",function(){JotForm.isCollapsed(e)&&JotForm.getCollapseBar(e).run("click"),JotForm.highlightInputs&&(e.addClassName("form-line-active"),e.__classAdded&&(e.__classAdded=!1))}).observe("blur",function(){JotForm.highlightInputs&&e.removeClassName("form-line-active")})})})},getForm:function(e){return e=$(e),e.parentNode?e&&"BODY"==e.tagName?!1:"FORM"==e.tagName?$(e):JotForm.getForm(e.parentNode):!1},getContainer:function(e){return e=$(e),e.parentNode?e&&"BODY"==e.tagName?!1:e.hasClassName("form-line")?$(e):JotForm.getContainer(e.parentNode):!1},getSection:function(e){return e=$(e),e.parentNode?e&&"BODY"==e.tagName?!1:!e.hasClassName("form-section-closed")&&!e.hasClassName("form-section")||e.id.match(/^section_/)?JotForm.getSection(e.parentNode):e:!1},getCollapseBar:function(e){return e=$(e),e.parentNode?e&&"BODY"==e.tagName?!1:e.hasClassName("form-section-closed")||e.hasClassName("form-section")?e.select(".form-collapse-table")[0]:JotForm.getCollapseBar(e.parentNode):!1},isCollapsed:function(e){return e=$(e),e.parentNode?e&&"BODY"==e.tagName?!1:"form-section-closed"==e.className?!0:JotForm.isCollapsed(e.parentNode):!1},isVisible:function(e){return e=$(e),e.parentNode?e&&"BODY"==e.tagName?!0:"none"==e.style.display||"hidden"==e.style.visibility?!1:JotForm.isVisible(e.parentNode):!1},enableDisableButtonsInMultiForms:function(){var e=$$(".form-submit-button");e.each(function(e){e.up("ul.form-section")&&("none"==e.up("ul.form-section").style.display?e.disable():-1==e.className.indexOf("disabled")&&e.enable())})},enableButtons:function(){setTimeout(function(){$$(".form-submit-button").each(function(e){e.enable(),e.innerHTML=e.oldText})},60)},setButtonActions:function(){$$(".form-submit-button").each(function(e){e.oldText=e.innerHTML,e.enable(),e.observe("click",function(){setTimeout(function(){if(!$$(".form-error-message")[0]&&!$$(".form-textarea-limit-indicator-error")[0]){var e=$$(".form-submit-button");e.each(function(e){e.innerHTML=JotForm.texts.pleaseWait,e.addClassName("lastDisabled"),e.disable()})}},50)})}),$$(".form-submit-reset").each(function(e){e.onclick=function(){return confirm(JotForm.texts.confirmClearForm)?($$(".form-line-error").each(function(e){e.removeClassName("form-line-error")}),$$(".form-error-message",".form-button-error").each(function(e){e.remove()}),$$(".form-textarea-limit-indicator > span").each(function(e){var t=e.innerHTML;e.innerHTML=t.replace(t.substring(0,t.indexOf("/")),"0")}),$$("span[id^=grade_point_]").each(function(e){e.innerHTML=0}),void $$(".form-grading-error").each(function(e){e.innerHTML=""})):!1}}),$$(".form-submit-print").each(function(e){e.observe("click",function(){$(e.parentNode).hide(),$$(".form-textarea, .form-textbox").each(function(e){e.type||(e.value=e.value||"0");var t;(t=e.next(".date-separate"))&&t.hide();var o="";e.value.length<e.size&&(o="width:"+9*e.size+"px;"),e.insert({before:new Element("div",{className:"print_fields"}).update(e.value.replace(/\n/g,"<br>")).setStyle("border:1px solid #ccc; padding:1px 4px;min-height:18px;"+o)}).hide()}),window.print(),$$(".form-textarea, .form-textbox, .date-separate").invoke("show"),$$(".print_fields").invoke("remove"),$(e.parentNode).show()})})},hasHiddenValidationConflicts:function(e){var t=e.up("li.form-line");return t&&t.hasClassName("form-field-hidden")?!0:!1},initGradingInputs:function(){var e=this;$$(".form-grading-input").each(function(t){t.observe("blur",function(){t.validateGradingInputs()}),t.validateGradingInputs=function(){var t=this,o=t.id.replace(/input_(\d+)_\d+/,"$1"),r=0,i=$(t.parentNode.parentNode),n=/^(\d+[\.]?)+$/,a=!1;if(t.errored=!1,$("grade_error_"+o).innerHTML="",i.select(".form-grading-input").each(function(e){if(e.value&&!n.test(e.value))throw a=!0,$break;r+=parseFloat(e.value)||0}),e.hasHiddenValidationConflicts(t))return JotForm.corrected(t);if(a)return JotForm.errored(t,JotForm.texts.numeric);var s=parseFloat($("grade_total_"+o).innerHTML);return $("grade_point_"+o).innerHTML=r,r>s?($("grade_error_"+o).innerHTML=" "+JotForm.texts.lessThan+" <b>"+s+"</b>.",JotForm.errored(t,JotForm.texts.gradingScoreError+" "+s)):JotForm.corrected(t)}})},initSpinnerInputs:function(){var e=this;$$(".form-spinner-input").each(function(t){t.observe("blur",function(){t.validateSpinnerInputs()}).observe("change",function(){t.validateSpinnerInputs()});var o=t.up("table.form-spinner"),r=o.select("td.form-spinner-up")[0],i=o.select("td.form-spinner-down")[0];r.observe("click",function(e){t.validateSpinnerInputs()}),i.observe("click",function(e){t.validateSpinnerInputs()}),t.validateSpinnerInputs=function(){var t=this,o=t.id.replace(/input_(\d+)_\d+/,"$1"),r=/^(\d+[\.]?)+$/,i=t.value||0;if(t.errored=!1,e.hasHiddenValidationConflicts(t))return JotForm.corrected(t);if(i&&!r.test(i))return JotForm.errored(t,JotForm.texts.numeric);var n=parseInt(t.readAttribute("data-spinnermin"))||!1,a=parseInt(t.readAttribute("data-spinnermax"))||!1;return n&&n>i?JotForm.errored(t,JotForm.texts.inputCarretErrorA+" "+n):a&&i>a?JotForm.errored(t,JotForm.texts.inputCarretErrorB+" "+a):JotForm.corrected(t)}})},initNumberInputs:function(){var e=this;$$(".form-number-input").each(function(t){t.observe("blur",function(){t.validateNumberInputs()}).observe("change",function(){t.validateNumberInputs()}),t.validateNumberInputs=function(){var t=this,o=t.id.replace(/input_(\d+)_\d+/,"$1"),r=/^(\d+[\.]?)+$/;if(t.errored=!1,e.hasHiddenValidationConflicts(t))return JotForm.corrected(t);if(t.value&&!r.test(t.value))return JotForm.errored(t,JotForm.texts.numeric);var i=parseInt(t.readAttribute("data-numbermin")),n=parseInt(t.readAttribute("data-numbermax")),a=parseInt(t.readAttribute("maxlength"));return a&&t.value&&t.value.length>a?JotForm.errored(t,JotForm.texts.maxDigitsError+" "+a):(i||0==i)&&parseInt(t.value)<i?JotForm.errored(t,JotForm.texts.inputCarretErrorA+" "+i):n&&parseInt(t.value)>n?JotForm.errored(t,JotForm.texts.inputCarretErrorB+" "+n):(parseInt(t.value)<0&&(t.value=0),JotForm.corrected(t))}})},backStack:[],currentSection:!1,handlePages:function(){var e=this,t=[],o;if($$(".form-pagebreak").each(function(o,r){var i=$(o.parentNode.parentNode);r>=1?i.hide():JotForm.currentSection=i,t.push(i),i.pagesIndex=r+1,i.select(".form-pagebreak-next").invoke("observe","click",function(){if(!JotForm.saving)if(JotForm.validateAll(JotForm.getForm(i)))window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView","*"),JotForm.nextPage?(JotForm.backStack.push(i.hide()),JotForm.currentSection=JotForm.nextPage.show(),e.noJump||JotForm.currentSection.scrollIntoView(!0),JotForm.enableDisableButtonsInMultiForms()):i.next()&&(JotForm.backStack.push(i.hide()),JotForm.currentSection=i.next().show(),e.noJump||JotForm.currentSection.scrollIntoView(!0),JotForm.enableDisableButtonsInMultiForms()),JotForm.nextPage=!1,JotForm.saveForm&&JotForm.hiddenSubmit(JotForm.getForm(i));else try{$$(".form-button-error").invoke("remove"),$$(".form-pagebreak-next").each(function(e){var t=new Element("div",{className:"form-button-error"});t.insert(JotForm.texts.incompleteFields),$(e.parentNode.parentNode).insert(t)})}catch(t){}}),i.select(".form-pagebreak-back").invoke("observe","click",function(){window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView","*"),JotForm.saving||(i.hide(),JotForm.currentSection=JotForm.backStack.pop().show(),e.noJump||JotForm.currentSection.scrollIntoView(!0),JotForm.nextPage=!1,JotForm.enableDisableButtonsInMultiForms(),JotForm.saveForm&&JotForm.hiddenSubmit(JotForm.getForm(i)),$$(".form-button-error").invoke("remove"))})}),t.length>0){var r=$$(".form-section");if(r.length>0&&(o=r[r.length-1]),o){o.pagesIndex=r.length,t.push(o),o.hide();var i=new Element("li",{className:"form-input-wide"}),n=new Element("div",{className:"form-pagebreak"}),a=new Element("div",{className:"form-pagebreak-back-container"}),s=$$(".form-pagebreak-back-container")[0].select("button")[0];s.observe("click",function(){JotForm.saving||(o.hide(),JotForm.nextPage=!1)}),a.insert(s),n.insert(a),i.insert(n),o.insert(i)}}},handleFormCollapse:function(){var e=this,t=!1,o=0;$$(".form-collapse-table").each(function(r){var i=$(r.parentNode.parentNode);i.setUnselectable(),"form-section-closed"==i.className?i.closed=!0:i.select(".form-collapse-hidden").length<0&&(t=i,o++),r.observe("click",function(){if(i.closed){i.setStyle("overflow:visible; height:auto");var r=i.getHeight();t&&t!=i&&1>=o&&(t.className="form-section-closed",t.shift({height:60,duration:.5}),t.select(".form-collapse-right-show").each(function(e){e.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")}),t.closed=!0),t=i,i.setStyle("overflow:hidden; height:60px"),setTimeout(function(){i.scrollTop=0,i.className="form-section"},1),i.shift({height:r,duration:.5,onEnd:function(t){t.scrollTop=0,t.setStyle("height:auto;"),e.noJump||t.scrollIntoView()}}),i.select(".form-collapse-right-hide").each(function(e){e.addClassName("form-collapse-right-show").removeClassName("form-collapse-right-hide")}),i.closed=!1}else i.scrollTop=0,i.shift({height:60,duration:.5,onEnd:function(e){e.className="form-section-closed"}}),t&&t.select(".form-collapse-right-show").each(function(e){e.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")}),i.closed=!0})})},handlePayPalProMethods:function(){$("creditCardTable")&&$$(".paymentTypeRadios").each(function(e){e.observe("click",function(){e.checked&&"express"==e.value&&$("creditCardTable").hide(),e.checked&&"credit"==e.value&&$("creditCardTable").show()})})},description:function(e,t){if("20"!=t){var o=!1;if(!$(e)){var r=e.replace(/[^\d]/gim,"");if($("id_"+r))e=$("id_"+r),o=!0;else{if(!$("section_"+r))return;e=$("section_"+r),o=!0}}$(e).setSliderValue&&(e=$($(e).parentNode));var i=JotForm.getContainer(e);if(i){var n=!1,a=new Element("div",{className:"form-description"}),s=new Element("div",{className:"form-description-arrow"}),l=new Element("div",{className:"form-description-arrow-small"}),u=new Element("div",{className:"form-description-content"}),c;if("desc"in document.get&&"v2"==document.get.desc&&(n=!0,i.insert(c=new Element("div",{className:"form-description-indicator"})),a.addClassName("right")),u.insert(t),a.insert(s).insert(l).insert(u).hide(),i.insert(a),i.getWidth()/2<a.getWidth()&&a.setStyle("right: -"+(i.getWidth()-(n?100:20))+"px"),n){var d=c.measure("height");s.setStyle("top:"+(d/2-20)+"px"),l.setStyle("top:"+(d/2-17)+"px"),$(i).mouseEnter(function(){i.setStyle("z-index:10000"),i.hasClassName("form-line-active")||(i.addClassName("form-line-active"),i.__classAdded=!0),a.show()},function(){i.__classAdded&&(i.removeClassName("form-line-active"),i.__classAdded=!1),i.setStyle("z-index:0"),a.hide()}),$(e).observe("keydown",function(){i.setStyle("z-index:0"),a.hide()})}else o?$(e).mouseEnter(function(){i.setStyle("z-index:10000"),a.show()},function(){i.setStyle("z-index:0"),a.hide()}):($(i).mouseEnter(function(){i.setStyle("z-index:10000"),a.show()},function(){i.setStyle("z-index:0"),a.hide()}),$(e).observe("keyup",function(){i.setStyle("z-index:0"),a.hide()}),$(e).observe("focus",function(){i.setStyle("z-index:10000"),a.show()}),$(e).observe("blur",function(){i.setStyle("z-index:0"),a.hide()}))}}},validateAll:function(e){var t=!0;if($$(".form-textarea-limit-indicator-error")[0]&&(t=!1),$$(".form-datetime-validation-error").first()&&(t=!1),window.signatureForm)for(var o=jQuery(".pad"),r=0;r<o.length;r++){var i=o[r];if("true"===jQuery(i).attr("data-required")&&jQuery(i).parent().parent().parent().is(":visible")){t=jQuery(i).jSignature("getData","base30")[1].length>1?!0:!1;var n=jQuery(i).parent().parent();t?n.find(".form-line-error").remove():0==n.find(".form-line-error").length&&n.append('<div class="form-line-error" style="float:left;"><div class="form-error-message"><img src="http://mustafa.jotform.pro/images/exclamation-octagon.png" align="left" style="margin-right:5px;"><div class="form-error-arrow"><div class="form-error-arrow-inner"></div></div>This field is required</div></div>')}}var a="";return e&&e.id&&(a="#"+e.id+" "),$$(a+'*[class*="validate"]').each(function(e){void 0!==e.validateInput&&(e.validateInput&&e.validateInput()||"none"!==$(e).parentNode.parentNode.parentNode.getStyle("display")&&(t=!1))}),t},errored:function(e,t){if(e=$(e),e.errored)return!1;if(e.runHint&&e.runHint(),JotForm.isCollapsed(e)){var o=JotForm.getCollapseBar(e);o.errored||(o.select(".form-collapse-mid")[0].insert({top:'<img src="'+this.url+'images/exclamation-octagon.png" align="bottom" style="margin-right:5px;"> '}).setStyle({color:"red"}),o.errored=!0)}var r=JotForm.getContainer(e);e.errored=!0,e.addClassName("form-validation-error"),r.addClassName("form-line-error");var i=r;if(i=r.select(".form-input")[0],i||(i=r.select(".form-input-wide")[0]),i||(i=r),i.select(".form-error-message").invoke("remove"),-1==this.url.search("https"))var n="http://cdn.jotfor.ms/";else var n="https://d3rpkyj7yvufwq.cloudfront.net/";return i.insert(new Element("div",{className:"form-error-message"}).insert('<img src="'+n+'images/exclamation-octagon.png" align="left" style="margin-right:5px;"> '+t).insert(new Element("div",{className:"form-error-arrow"}).insert(new Element("div",{className:"form-error-arrow-inner"})))),!1},corrected:function(e){if(JotForm.hideButtonMessage(),e=$(e),e.errored=!1,JotForm.isCollapsed(e)){var t=JotForm.getCollapseBar(e);t.errored&&(t.select(".form-collapse-mid")[0].setStyle({color:""}).select("img")[0].remove(),t.errored=!1)}var o=JotForm.getContainer(e);return o?(o.select(".form-validation-error").invoke("removeClassName","form-validation-error"),o.removeClassName("form-line-error"),o.select(".form-error-message").invoke("remove"),!0):!0},hideButtonMessage:function(){$$(".form-button-error").invoke("remove")},showButtonMessage:function(){this.hideButtonMessage(),$$(".form-submit-button").each(function(e){var t=new Element("div",{className:"form-button-error"});t.insert("<p>"+JotForm.texts.incompleteFields+"</p>"),$(e.parentNode.parentNode).insert(t)})},validator:function(){if(this.debugOptions&&this.debugOptions.stopValidations)return this.info("Validations stopped by debug parameter"),!0;var e=this,t={email:/[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])/i,alphanumeric:/^[a-zA-Z0-9]+$/,numeric:/^(\d+[\.]?)+$/,alphabetic:/^[a-zA-Z\s]+$/};$A(JotForm.forms).each(function(o){o.validationSet||(o.validationSet=!0,o.observe("submit",function(e){try{if(!JotForm.validateAll(o))return JotForm.enableButtons(),JotForm.showButtonMessage(),void e.stop()}catch(t){return JotForm.error(t),void e.stop()}if($$(".form-field-hidden input",".form-field-hidden select",".form-field-hidden textarea").each(function(e){"input"==e.tagName&&["checkbox","radio"].include(e.readAttribute("type"))?e.checked=!1:e.clear()}),JotForm.compact&&0==JotForm.imageSaved)return e.stop(),window.parent.saveAsImage(),void $(document).observe("image:loaded",function(){var e;$(document.body).insert(e=new Element("div").setStyle("position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);")),e.insert('<table height="100%" width="100%"><tr><td align="center" valign="middle" style="font-family:Verdana;color:#fff;font-size:16px;">Please Wait...</td></tr></table>'),setTimeout(function(){o.submit()},1e3)});var r=o.select(".form-grading-input");r&&r.each(function(t){var o=t.validateGradingInputs();o||e.stop()});var i=o.select(".form-spinner-input");i&&i.each(function(t){var o=t.validateSpinnerInputs();o||e.stop()});var n=o.select(".form-number-input");n&&n.each(function(t){var o=t.validateNumberInputs();o||e.stop()}),o.readAttribute("data-autofill")&&o.releaseAutoFill()}),$$("#"+o.id+' *[class*="validate"]').each(function(o){var r=o.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/);o.validateInput=function(i){if(!JotForm.isVisible(o))return!0;$(o.parentNode).hasClassName("form-matrix-values")||JotForm.corrected(o);var n=r;if(o.hinted===!0&&(o.clearHint(),setTimeout(function(){o.hintClear()},150)),"input-spinner"===o.readAttribute("data-type")&&o.value)return o.validateSpinnerInputs();if("input-grading"===o.readAttribute("data-type")&&o.value)return o.validateGradingInputs();if("input-number"===o.readAttribute("data-type")&&o.value)return o.validateNumberInputs();if(n.include("Email_Confirm")){console.log('if (vals.include("Email_Confirm")) {');var a=o.id.replace(/.*_(\d+)(?:_confirm)?/gim,"$1");if($("input_"+a).value!=$("input_"+a+"_confirm").value)return JotForm.errored(o,JotForm.texts.confirmEmail);if($("input_"+a+"_confirm").value&&!t.email.test($("input_"+a+"_confirm").value))return JotForm.errored(o,JotForm.texts.email)}else if(n.include("required")){if("INPUT"==o.tagName&&"file"==o.readAttribute("type"))return o.value.empty()&&!o.uploadMarked?JotForm.errored(o,JotForm.texts.required):JotForm.corrected(o);if("INPUT"!=o.tagName||"radio"!=o.readAttribute("type")&&"checkbox"!=o.readAttribute("type")){if(("INPUT"==o.tagName||"SELECT"==o.tagName)&&$(o.parentNode).hasClassName("form-matrix-values")){var s={},l=!1;return o.up("table").select(o.tagName).each(function(e){e.name in s||(s[e.name]=!1),s[e.name]!==!0&&(s[e.name]=e.value&&!e.value.strip(" ").empty()),s[e.name]===!0&&(l=!0)}),n.include("requireEveryRow")&&!$H(s).values().all()?JotForm.errored(o,JotForm.texts.requireEveryRow):n.include("requireOneAnswer")&&!l?JotForm.errored(o,JotForm.texts.requireOne):JotForm.corrected(o)}if(o.name&&o.name.include("["))try{var u=e.getContainer(o),c=u.select("input,select[name*="+o.name.replace(/\[.*$/,"")+"]").map(function(e){if(e.hasClassName("form-address-state")){var t=u.select(".form-address-country")[0].value;if("United States"!=t&&"Canada"!=t&&"Please Select"!=t)return e.removeClassName("form-validation-error"),e.__skipField=!0,!1}else e.__skipField&&(e.__skipField=!1);return e.className.include("validate[required]")&&JotForm.isVisible(e)&&(e.value.empty()||"Please Select"==e.value.strip())?(e.addClassName("form-validation-error"),!0):(e.removeClassName("form-validation-error"),!1)});if(c.any())return JotForm.errored(o,JotForm.texts.required)}catch(d){return JotForm.error(d),JotForm.corrected(o)}}else if($(o.parentNode).hasClassName("form-matrix-values")){var m=o.readAttribute("type"),s={},p=!1;if(o.up("table").select("input").each(function(e){e.name in s||(s[e.name]=!1),s[e.name]!==!0&&(s[e.name]=e.checked),s[e.name]===!0&&(p=!0)}),!n.include("requireOneAnswer"))return $H(s).values().all()?JotForm.corrected(o):JotForm.errored(o,JotForm.texts.requireEveryRow);if(!p)return JotForm.errored(o,JotForm.texts.requireOne)}else{var f=o.name.substr(0,o.name.indexOf("[")),h=f+"[other]",v=[];if(document.getElementsByName(h)[0]){if(v=$A(document.getElementsByName(f+"[]")),v[v.length]=document.getElementsByName(h)[0],!v.map(function(e){return e.checked}).any())return JotForm.errored(o,JotForm.texts.required)}else if(!$A(document.getElementsByName(o.name)).map(function(e){return e.checked}).any())return JotForm.errored(o,JotForm.texts.required)}if(o.__skipField)return JotForm.corrected(o);if((!o.value||o.value.strip(" ").empty()||"Please Select"==o.value)&&"radio"!=o.readAttribute("type")&&"checkbox"!=o.readAttribute("type")&&!$(o.parentNode).hasClassName("form-matrix-values"))return JotForm.errored(o,JotForm.texts.required);n=n.without("required")}else if(o.value.empty())return!0;if(!n[0])return!0;switch(n[0]){case"Email":if(!t.email.test(o.value))return JotForm.errored(o,JotForm.texts.email);break;case"Alphabetic":if(!t.alphabetic.test(o.value))return JotForm.errored(o,JotForm.texts.alphabetic);break;case"Numeric":if(!t.numeric.test(o.value))return JotForm.errored(o,JotForm.texts.numeric);break;case"AlphaNumeric":if(!t.alphanumeric.test(o.value))return JotForm.errored(o,JotForm.texts.alphanumeric)}return JotForm.corrected(o)};var i=function(t){setTimeout(function(){!e.lastFocus||e.lastFocus!=o&&e.getContainer(e.lastFocus)==e.getContainer(o)?"hidden"==o.type&&o.validateInput():o.validateInput()},10)};if("hidden"==o.type?o.observe("change",i):o.observe("blur",i),o.up(".form-spinner")){var n=function(){o.validateInput()};o.up(".form-spinner").down(".form-spinner-up").observe("click",n),o.up(".form-spinner").down(".form-spinner-down").observe("click",n)}}),$$(".form-upload").each(function(e){try{var t=!!e.validateInput,o=e.validateInput||Prototype.K;e.validateInput=function(){if(e.errored=!1,o()!==!1){if(!e.files)return!0;var t=e.readAttribute("accept")||e.readAttribute("file-accept")||"",r=e.readAttribute("maxsize")||e.readAttribute("file-maxsize")||"",i=t.strip().split(/\s*\,\s*/gim),n=1024*parseInt(r,10),a=e.files[0];if(!a)return!0;a.fileName||(a.fileName=a.name);var s="";if(JotForm.getFileExtension(a.fileName)&&(s=JotForm.getFileExtension(a.fileName)),"*"!=t&&!i.include(s)&&!i.include(s.toLowerCase()))return JotForm.errored(e,JotForm.texts.uploadExtensions+"<br/>"+t);var l=e.readAttribute("data-imagevalidate")||!1,u="jpeg, jpg, png, gif, bmp";if((i.include(s)||i.include(s.toLowerCase()))&&l&&("yes"===l||"true"===l)&&(u.include(s)||u.include(s.toLowerCase()))&&void 0!=typeof window.FileReader){var c=new FileReader;c.onloadend=function(t){var o={filename:a.name,size:a.size,binary:t.target.result};ImageInfo.loadInfo(o,function(){var t=ImageInfo.getAllFields(a.name);return"UNKNOWN"===t.format?JotForm.errored(e,"You have uploaded an invalid image file type."):void 0
})},c.readAsBinaryString(a)}return a.fileSize||(a.fileSize=a.size),a.fileSize>n?JotForm.errored(e,JotForm.texts.uploadFilesize+" "+r+"Kb"):JotForm.corrected(e)}},t||(e.addClassName("validate[upload]"),e.observe("blur",e.validateInput))}catch(r){JotForm.error(r)}}))})},FBInit:function(){JotForm.FBNoSubmit=!0,FB.getLoginStatus(function(e){e.authResponse?JotForm.FBCollectInformation(e.authResponse.userID):FB.Event.subscribe("auth.login",function(e){JotForm.FBCollectInformation(e.authResponse.userID)})})},FBCollectInformation:function(e){JotForm.FBNoSubmit=!1;var t=$$(".form-helper").collect(function(e){var t="",o=e.readAttribute("data-info").replace("user_","");switch(o){case"location":t="current_location";break;case"can_be_anyvalue":t="place correct one here";break;default:t=o}return[t,e.id]}),o={};$A(t).each(function(e){o[e[0]]=e[1]});try{var r=$H(o).keys().join(", "),i=FB.Data.query("SELECT "+r+" FROM user WHERE uid={0}",e);i.wait(function(t){var r;$H(t[0]).each(function(e){if(r=$(o[e.key]))switch(e.key){case"current_location":r.value=e.value.name;break;case"website":r.value=e.value.split(/\s+/).join(", ");break;default:r.value=e.value}}),JotForm.bringOldFBSubmissionBack(e);var i=new Element("input",{type:"hidden",name:"fb_user_id"}).setValue(e),n=JotForm.getForm(r);n.insert({top:i})})}catch(n){console.error(n)}$$(".fb-login-buttons").invoke("show"),$$(".fb-login-label").invoke("hide")},bringOldFBSubmissionBack:function(e){var t=$$('input[name="formID"]')[0],o=new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"bringOldFBSubmissionBack",formID:t.value,fbid:e},evalJSON:"force",onComplete:function(e){var t=e.responseJSON;t.success&&JotForm.editMode(t,!0,["control_helper","control_fileupload"])}})},getQuerystring:function(e,t){null==t&&(t=""),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=o.exec(window.location.href);return null==r?t:r[1]},hideSubmissionEmptyFields:function(e){var t="#"+e,o=$$(t)[0];o.observe("submit",function(e){var t=$$("li.form-line");t.each(function(e){var t=e.select("input, select, textarea")||!1;t&&t.each(function(e){e&&(""==e.value||e.value.length<1)&&e.removeAttribute("name")})})})},setCustomHint:function(e,t){var o=$(e)||null,r=t.replace(/<br>/gim,"\n")||"";o.addClassName("custom-hint-group").writeAttribute("data-customhint",t).writeAttribute("customhinted","true"),o.hasContent=o.value&&o.value.replace(/\n/gim,"<br>")!=t?!0:!1,o.showCustomPlaceHolder=function(){this.hasContent||(this.value=r,this.writeAttribute("spellcheck","false").addClassName("form-custom-hint"))},o.hideCustomPlaceHolder=function(){this.hasContent||(this.value="",this.removeClassName("form-custom-hint").removeAttribute("spellcheck"))},o.observe("focus",function(e){this.hideCustomPlaceHolder()}).observe("blur",function(e){this.showCustomPlaceHolder()}).observe("keyup",function(e){this.hasContent=this.value.length>0?!0:!1}),o.up("form.jotform-form").observe("submit",function(){this.select(".custom-hint-group").each(function(e){e.hideCustomPlaceHolder()})}),o.showCustomPlaceHolder()},autoFillInitialize:function(e){var t=$$('input[name="formID"]')[0].value;e.name="form_"+t;var o="form#"+t,r=$$(o)[0];r.writeAttribute("data-autofill","true"),r.releaseAutoFill=function(){console.log("submitted"),jQuery.autoFill().stopSavingData(),jQuery.autoFill().manuallyReleaseData()};var i={_handleCustomHint:function(e){var t=e.protectedfields,o=e.protectedfieldsdata,r=0;$H(o).each(function(e){var o=t[r],i=$(o),n=e[1],a=n.newinputvalue?n.newinputvalue.replace(/\n/gim,"<br>"):!1;if(i.hasAttribute("data-customhint")||i.hasAttribute("customhinted")){var s=i.readAttribute("data-customhint");s&&a&&s!=a&&(i.removeClassName("form-custom-hint"),i.hasContent=!0)}else if(i.hasAttribute("hinted")||i.hinted){var s=n.oldinputvalue?n.oldinputvalue.replace(/\n/gim,"<br>"):!1;s&&a&&s!=a&&i.setStyle({color:"#000"})}r++})},_handleGradingTotal:function(e){if($$(".form-grading-input").length>0){var t=0,o=null;$$(".form-grading-input").each(function(e){o=e.id.replace(/input_(\d+)_\d+/,"$1"),t+=parseFloat(e.value)||0}),$("grade_point_"+o).innerHTML=t}}};jQuery(o).autoFill({timeout:e.timeout,customKeyPrefix:e.customprefix,name:e.name,onBeforeSave:function(){},onSave:function(){},onRelease:function(){},onBeforeRestore:function(){},onRestore:function(e){var t=this.restoredData[0];t&&(i._handleCustomHint(t),i._handleGradingTotal(t))}}),this.autoFillDeployed=!0},setPhoneMaskingValidator:function(e,t,o){var r="#"+e,o=o?o:!1;jQuery.mask.definitions["#"]="[0-9]",jQuery.mask.placeholder="_",jQuery.mask.dataName="jotFormPhoneMsk",o?jQuery(r).unmask():jQuery(r).mask(t)}};window.fbAsyncInit=JotForm.FBInit.bind(JotForm);